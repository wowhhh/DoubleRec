<%@ page language="java" contentType="text/html; charset=UTF-8"    pageEncoding="UTF-8"%><%@ taglib uri="/struts-tags" prefix="s" %><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd"><html class="app" >
<head>  
  <title>DoubleRec | 歌单类型页</title>
  <meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="stylesheet" href="js/jPlayer/jplayer.flat.css" type="text/css" />
  <link rel="stylesheet" href="css/bootstrap.css" type="text/css" />
  <link rel="stylesheet" href="css/animate.css" type="text/css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="css/simple-line-icons.css" type="text/css" />
  <link rel="stylesheet" href="css/font.css" type="text/css" />
  <link rel="stylesheet" href="css/app.css" type="text/css" />  
    <!--[if lt IE 9]>
    <script src="js/ie/html5shiv.js"></script>
    <script src="js/ie/respond.min.js"></script>
    <script src="js/ie/excanvas.js"></script>
  <![endif]-->
</head>
<body class="">
  <section class="vbox">     	<%@ include file="header.jsp" %><!-- 引入header -->
    <section>
      <section class="hbox stretch">
         <!-- .aside -->        <%@ include file="aside.jsp" %><!-- 引入aside -->        <!-- /.aside -->        
        <section id="content">
          <section class="vbox">
            <section class="w-f-md" id="bjax-target">
              <section class="hbox stretch">
                <!-- side content -->
                <aside class="aside bg-light dk" id="sidebar">
                  <section class="vbox animated fadeInUp">
                    <section class="scrollable hover">
                      <div class="list-group no-radius no-border no-bg m-t-n-xxs m-b-none auto">                                            <!-- 显示全部的分类标题按钮 ，并且仅当当前不选中其他分类的时候显示全部-->                                             <s:if test="pageBean == null">                       <a href="${ pageContext.request.contextPath }/genres.action" class="list-group-item active">                        全部                      </a>                      </s:if>                      <s:else>                       <a href="${ pageContext.request.contextPath }/genres.action" class="list-group-item">                        全部                      </a>                      </s:else>                      <!-- 显示全部非分类标题按钮 -->                      <!-- 单个音乐类型 的大标题的显示 ，从数据库中查一部分，然后在这里进行显示-->                    <!--    <s:iterator var="g" value="glist" />-->                      <!-- 此处用户点击，便进入显示一个分类信息的action，传入歌单的id 以及当前页数-->
                       <s:iterator var ="g" value="#session.glist"  >                        <!-- 判断：如果当前选中的类型不等于加载的类型，就不加active -->                        <!-- 调试，打印一下pageBean的typeName与session里面的typeName -->                                         <s:if test="pageBean.typeName == #g.typeName">                       <a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#g.idtype"/>&page=1" class="list-group-item active" id=<s:property value="#g.idtype"/>>                        		<s:property value="#g.typeName" />                        </a>                       </s:if>                                               <s:else>                         	<a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#g.idtype"/>&page=1" class="list-group-item " id=<s:property value="#g.idtype"/>>                        		<s:property value="#g.typeName" />                        	</a>                        </s:else>                                              </s:iterator>                         <!-- 单个音乐类型 的大标题的显示 -->                                            </div>
                    </section>
                  </section>
                </aside>                                <!-- 嵌套 -->              <!-- 判断用户点的是不是全部的标签，这个可以在action里面加入session进行判断，判断sl -->                                                  <s:if test="pageBean.list != null"><!-- 如果存在列表 -->                 	   <!-- / side content -->                <section>                  <section class="vbox">                    <section class="scrollable padder-lg">                      <h2 class="font-thin m-b"><s:property value="pageBean.typeName"/></h2>                      <div class="row row-sm">                                            <!-- 单个歌单信息的显示 -->                      <s:iterator var="sl" value="pageBean.list" >                        <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">                          <div class="item">                            <div class="pos-rlt">                              <div class="item-overlay opacity r r-2x bg-black">                                <div class="center text-center m-t-n">                                <!-- 点击事件，显示歌单详情 -->                                  <a href="${pageContext.request.contextPath }/songlist_detail.action?ListId=<s:property value="#sl.ListId"/>&page=1"><i class="fa fa-play-circle i-2x"></i></a>                                </div>                              </div>                               <!-- 点击事件，显示歌单详情 -->                              <a href="${pageContext.request.contextPath }/songlist_detail.action?ListId=<s:property value="#sl.ListId"/>&page=1"><img src=<s:property value="#sl.ListLogo"/> alt="" class="r r-2x img-full"></a>                            </div>                            <div class="padder-v">                             <!-- 点击事件，显示歌单详情 -->                              <a href="${pageContext.request.contextPath }/songlist_detail.action?ListId=<s:property value="#sl.ListId"/>&page=1"class="text-ellipsis"><s:property value="#sl.ListTitle"/></a>                               <!-- 点击事件，显示歌单详情 -->                              <a href="${pageContext.request.contextPath }/songlist_detail.action?ListId=<s:property value="#sl.ListId"/>&page=1"  class="text-ellipsis text-xs text-muted"><s:property value="#sl.ListAuthor"/></a>                            </div>                          </div>                        </div>                        </s:iterator>                        <!-- 单个歌单信息的显示 -->                                           </div>                                            <!-- 分页显示 -->                      <ul class="pagination pagination">                     <span> 第<s:property value="pageBean.page"/>/<s:property value="pageBean.totalPage"/>页</span>                       <s:if test="pageBean.page!=1"><!-- 加入判断，当前的页面不是第一页的时候可以点上一页 -->                        <li><a href="${pageContext.request.contextPath }/genres_one.action?cid=<s:property value="cid"/>&page=<s:property value="pageBean.page-1" />"><i class="fa fa-chevron-left"></i></a></li><!-- 前一页 -->                       </s:if>                       <!-- 迭代显示下面的页数 -->                       <s:iterator var="i" begin="1" end="pageBean.totalPage">                       		<!-- 下面这个页面时用来判断当前的页面是否被选中，然后给予不同的显示方式 -->                       		<s:if test="pageBean.page !=#i">                       		<li><a href="${pageContext.request.contextPath }/genres_one.action?cid=<s:property value="cid"/>&page=<s:property value="#i" />"><s:property value="#i"/></a></li>                        	</s:if>                        	<s:else>                        	<li class="active"><a href="${pageContext.request.contextPath }/genres_one.action?cid=<s:property value="cid"/>&page=<s:property value="#i" />"><s:property value="#i"/></a></li>                        	</s:else>                        </s:iterator>                        <s:if test="pageBean.page!=pageBean.totalPage">                        <li><a href="${pageContext.request.contextPath }/genres_one.action?cid=<s:property value="cid"/>&page=<s:property value="pageBean.page+1" />"><i class="fa fa-chevron-right"></i></a></li><!-- 后一页 -->                        </s:if>                      </ul>                       <!-- 分页显示 -->                                           </section>                                      </section>                </section>                 </s:if>                 <s:else>                 	<section>                  <section class="vbox">                    <section class="scrollable padder-lg">                      <h2 class="font-thin m-b">全部歌单类型</h2><div class="mod_playlist_tag" id="taglist">	<div class="js_normal" style="display:;">		                <!-- 流派类型歌单的显示 -->            <div class="playlist_tag__list ">                <h3 class="playlist_tag__tit c_tx_thin">流派</h3>		                <i class="playlist_tag__line"></i>		                <ul class="playlist_tag__tags">				<s:iterator var="ag" value="#session.agList" begin="8" end="23"><!-- 控制循环次数 -->                    <li class="playlist_tag__itembox"><a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#ag.idtype"/>&page=1" class="playlist_tag__item js_tag playlist_tag__item--select" data-id="165" id=<s:property value="#ag.idtype" />><s:property value="#ag.typeName" /></a></li>                </s:iterator>            </div>	                <div class="playlist_tag__list ">                <h3 class="playlist_tag__tit c_tx_thin">主题</h3>		                <i class="playlist_tag__line"></i>		                <ul class="playlist_tag__tags">				<s:iterator var="ag" value="#session.agList" begin="24" end="39"><!-- 控制循环次数 -->                    <li class="playlist_tag__itembox"><a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#ag.idtype"/>&page=1" class="playlist_tag__item js_tag playlist_tag__item--select" data-id="165" id=<s:property value="#ag.idtype" />><s:property value="#ag.typeName" /></a></li>                </s:iterator>                </ul>            </div>	                  <div class="playlist_tag__list ">                <h3 class="playlist_tag__tit c_tx_thin">场景</h3>				<i class="playlist_tag__line"></i>                <ul class="playlist_tag__tags">				<s:iterator var="ag" value="#session.agList" begin="49" end="61"><!-- 控制循环次数 -->                    <li class="playlist_tag__itembox"><a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#ag.idtype"/>&page=1" class="playlist_tag__item js_tag playlist_tag__item--select" data-id="165" id=<s:property value="#ag.idtype" />><s:property value="#ag.typeName" /></a></li>                </s:iterator>                </ul>            </div>	    	                <div class="playlist_tag__list ">                <h3 class="playlist_tag__tit c_tx_thin">心情</h3>		                <i class="playlist_tag__line"></i>		                <ul class="playlist_tag__tags">				<s:iterator var="ag" value="#session.agList" begin="40" end="48"><!-- 控制循环次数 -->                    <li class="playlist_tag__itembox"><a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#ag.idtype"/>&page=1" class="playlist_tag__item js_tag playlist_tag__item--select" data-id="165" id=<s:property value="#ag.idtype" />><s:property value="#ag.typeName" /></a></li>                </s:iterator>		                    </ul>            </div>	    <!-- 语种类型歌单的显示 -->            <div class="playlist_tag__list playlist_tag__list--lang">                <h3 class="playlist_tag__tit c_tx_thin">语种</h3>		                <i class="playlist_tag__line"></i>		                <ul class="playlist_tag__tags">                <s:iterator var="ag" value="#session.agList" begin="0" end="7"><!-- 控制循环次数 -->                    <li class="playlist_tag__itembox"><a href="${ pageContext.request.contextPath }/genres_one.action?Cid=<s:property value="#ag.idtype"/>&page=1" class="playlist_tag__item js_tag playlist_tag__item--select" data-id="165" id=<s:property value="#ag.idtype" />><s:property value="#ag.typeName" /></a></li>                </s:iterator>                            </ul>            </div>          	</div></div></section></section></section>                 </s:else>                 
              </section>
            </section>
         <%@ include file="footer.jsp" %><!--genres页面 引入footer页面 -->
                    </section>
          <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen,open" data-target="#nav,html"></a>
        </section>
      </section>
    </section>    
  </section>
  <script src="js/jquery.min.js"></script>
  <!-- Bootstrap -->
  <script src="js/bootstrap.js"></script>
  <!-- App -->
  <script src="js/app.js"></script>  
  <script src="js/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="js/app.plugin.js"></script>
  <script type="text/javascript" src="js/jPlayer/jquery.jplayer.min.js"></script>
  <script type="text/javascript" src="js/jPlayer/add-on/jplayer.playlist.min.js"></script>
  <script type="text/javascript" src="js/jPlayer/demo.js"></script>  <script type="text/javascript" src="js/music.js"></script>

</body>
</html>